function idx = pos2idx(x, y, n)
    idx = n * (y-1) + x;
end